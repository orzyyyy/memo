(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1495:function(e,t,a){"use strict";a.r(t);var r=a(79),n=a.n(r),i=a(2),l=a.n(i),u=a(0),o=a.n(u),c=a(88),s=a.n(c),h=a(1472),m=a(1473),p=a(1496),g=a(1474),d=a(1477),f=a(1479),v=a(1490),y=a(1498),E=a(1484),b=a(1476),x=a(1485),w=a(66),O=a(70),T=a(1492),C=Object(w.a)((function(e){return Object(O.a)({container:{display:"flex",flexWrap:"wrap"},root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},formControl:{margin:e.spacing(1)},title:{flexGrow:1}})})),S=function(e){var t=e.onSubmit,a=e.formData,r=e.formOptions,n=e.onChange,i=e.onSpecificationInputBlur,l=C(),u=function(e,t){n({text:e.target.value,value:e.target.value},"input",t)},c=function(e){var t=e.key,a=e.error,r=e.inputLabel,n=e.inputValue,c=e.helperText,s=e.xs,v=e.unit,y=void 0===v?"mm":v,E=e.readOnly,b=void 0!==E&&E,x=e.required,w=void 0===x||x;return o.a.createElement(h.a,{item:!0,xs:s,key:t},o.a.createElement(m.a,{required:w,className:l.formControl,error:a},o.a.createElement(p.a,null,r),o.a.createElement(g.a,{value:n,type:"number",onChange:function(e){return u(e,t)},onBlur:i,endAdornment:o.a.createElement(d.a,{position:"end"},y),readOnly:b}),o.a.createElement(f.a,null,c)))},w=r.materialId.filter((function(e){return 0===a.materialType?!a.length||a.length==e["长"]:1===a.materialType?a.length&&a.width?a.length==e["长"]&&a.width==e["宽"]:a.width?a.width==e["宽"]:!a.length||a.length==e["长"]:void 0}));return o.a.createElement("div",{className:l.container},o.a.createElement(m.a,{required:!0,fullWidth:!0,className:l.formControl,error:a.materialTypeError},o.a.createElement(p.a,null,"类别"),o.a.createElement(v.a,{value:a.materialType,onChange:function(e){n({text:"",value:e.target.value},"select")}},r.materialType.map((function(e){var t=e.text,a=e.value;return o.a.createElement(y.a,{value:a,key:t+"-"+a},t)})))),function(){switch(a.materialType){case 0:return c({key:"length",error:a.lengthError,inputLabel:"截面直径",inputValue:a.length,helperText:a.lengthMessage,xs:6});case 1:return o.a.createElement(o.a.Fragment,null,c({key:"length",error:a.lengthError,inputLabel:"截面长度",inputValue:a.length,helperText:a.lengthMessage,xs:6}),c({key:"width",error:a.widthError,inputLabel:"截面宽度",inputValue:a.width,helperText:a.widthMessage,xs:6}));default:return null}}(),o.a.createElement(m.a,{fullWidth:!0,error:a.materialTypeError,className:l.formControl},o.a.createElement(T.a,{options:w,getOptionLabel:function(e){return e["材质"]},value:a.materialId,onChange:function(e,t){n(t,"autoComplete")},id:"material-id","aria-controls":"material-id",renderInput:function(e){return o.a.createElement(E.a,s()({},e,{fullWidth:!0,margin:"normal",required:!0,label:"材质",error:a.materialTypeError}))}}),o.a.createElement(f.a,null,a.materialTypeMessage)),c({key:"weight",error:a.weightError,inputLabel:"实际重量",inputValue:a.weight,helperText:a.weightMessage,xs:6,unit:"kg"}),c({key:"height",error:a.heightError,inputLabel:"高度",inputValue:a.height,helperText:a.heightMessage,xs:6}),c({key:"materialCost",error:a.materialCostError,inputLabel:"单价",inputValue:a.materialCost,helperText:a.materialCostMessage,xs:6,unit:"元/kg"}),c({key:"freight",error:a.freightError,inputLabel:"运费",inputValue:a.freight,helperText:a.freightMessage,xs:6,unit:"元"}),c({key:"extraCost",error:!1,inputLabel:"其他费用",inputValue:a.extraCost,helperText:"",xs:6,unit:"元"}),(0===a.materialType||1===a.materialType)&&c({key:"predictWeight",error:!1,inputLabel:"预估重量",inputValue:a.predictWeight,helperText:"计算公式：体积 x 密度",xs:6,unit:"kg",readOnly:!0,required:!1}),o.a.createElement(m.a,{fullWidth:!0,className:l.formControl},o.a.createElement(b.a,{placeholder:"备注",rows:8,onChange:function(e){return u(e,"description")},value:a.description})),o.a.createElement(m.a,{fullWidth:!0,className:l.formControl},o.a.createElement(x.a,{variant:"contained",color:"primary",onClick:t},"提交")))},j=Object(w.a)((function(e){return Object(O.a)({container:{display:"flex",flexWrap:"wrap"},root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},formControl:{margin:e.spacing(1)},title:{flexGrow:1}})})),k=function(e){var t=e.onSubmit,a=e.formData,r=e.formOptions,n=e.onChange,i=e.onSpecificationInputBlur,l=j(),u=function(e){var t=e.key,a=e.error,r=e.inputLabel,n=e.inputValue,u=e.helperText,s=e.xs,v=e.unit,y=void 0===v?"mm":v,E=e.readOnly,b=void 0!==E&&E,x=e.required,w=void 0===x||x;return o.a.createElement(h.a,{item:!0,xs:s,key:t},o.a.createElement(m.a,{required:w,className:l.formControl,error:a},o.a.createElement(p.a,null,r),o.a.createElement(g.a,{value:n,type:"number",onChange:function(e){return c(e,t)},onBlur:i,endAdornment:o.a.createElement(d.a,{position:"end"},y),readOnly:b}),o.a.createElement(f.a,null,u)))},c=function(e,t){n({text:e.target.value,value:e.target.value},"input",t)},w=r.materialId.filter((function(e){return 0===a.materialType?!a.length||a.length==e["长"]:1===a.materialType?a.length&&a.width?a.length==e["长"]&&a.width==e["宽"]:a.width?a.width==e["宽"]:!a.length||a.length==e["长"]:void 0}));return o.a.createElement("div",{className:l.container},o.a.createElement(m.a,{required:!0,fullWidth:!0,className:l.formControl,error:a.materialTypeError},o.a.createElement(p.a,null,"类别"),o.a.createElement(v.a,{value:a.materialType,onChange:function(e){n({text:"",value:e.target.value},"select")}},r.materialType.map((function(e){var t=e.text,a=e.value;return o.a.createElement(y.a,{value:a,key:t+"-"+a},t)})))),function(){switch(a.materialType){case 0:return u({key:"length",error:a.lengthError,inputLabel:"截面直径",inputValue:a.length,helperText:a.lengthMessage,xs:6});case 1:return o.a.createElement(o.a.Fragment,null,u({key:"length",error:a.lengthError,inputLabel:"截面长度",inputValue:a.length,helperText:a.lengthMessage,xs:6}),u({key:"width",error:a.widthError,inputLabel:"截面宽度",inputValue:a.width,helperText:a.widthMessage,xs:6}));default:return null}}(),o.a.createElement(m.a,{fullWidth:!0,error:a.materialTypeError,className:l.formControl},o.a.createElement(T.a,{options:w,getOptionLabel:function(e){return e["材质"]},value:a.materialId,onChange:function(e,t){n(t,"autoComplete")},id:"material-id","aria-controls":"material-id",renderInput:function(e){return o.a.createElement(E.a,s()({},e,{fullWidth:!0,margin:"normal",required:!0,label:"材质",error:a.materialTypeError}))}}),o.a.createElement(f.a,null,a.materialTypeMessage)),u({key:"weight",error:a.weightError,inputLabel:"实际重量",inputValue:a.weight,helperText:a.weightMessage,xs:6,unit:"kg"}),u({key:"height",error:a.heightError,inputLabel:"高度",inputValue:a.height,helperText:a.heightMessage,xs:6}),u({key:"materialQuantity",error:a.materialQuantityError,inputLabel:"数量",inputValue:a.materialQuantity,helperText:a.materialQuantityMessage,xs:6,unit:"个"}),u({key:"materialCost",error:!1,inputLabel:"单价",inputValue:a.materialCost,helperText:"",xs:6,unit:"元/kg",readOnly:!0,required:!1}),u({key:"predictWeight",error:!1,inputLabel:"预估重量",inputValue:a.predictWeight,helperText:"计算公式：体积 x 密度",xs:6,unit:"kg",readOnly:!0,required:!1}),u({key:"costFee",error:!1,inputLabel:"据费",inputValue:a.costFee,helperText:"",xs:6,unit:"元/个",readOnly:!0,required:!1}),u({key:"predictPrice",error:!1,inputLabel:"预估总价",inputValue:a.predictPrice,helperText:"",xs:6,unit:"元",readOnly:!0,required:!1}),o.a.createElement(m.a,{fullWidth:!0,className:l.formControl},o.a.createElement(b.a,{placeholder:"备注",rows:8,onChange:function(e){return c(e,"description")},value:a.description})),o.a.createElement(m.a,{fullWidth:!0,className:l.formControl},o.a.createElement(x.a,{variant:"contained",color:"primary",onClick:t},"提交")))},M=a(1486),L=a(1487),V=a(1483),I=a(1478),W=a(1316),q=a.n(W),N=function(e,t,a,r){return new(a||(a=Promise))((function(n,i){function l(e){try{o(r.next(e))}catch(e){i(e)}}function u(e){try{o(r.throw(e))}catch(e){i(e)}}function o(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(l,u)}o((r=r.apply(e,t||[])).next())}))};t.default=function(){var e=Object(u.useState)([]),t=l()(e,2),a=t[0],r=t[1],i=Object(u.useState)([]),c=l()(i,2),s=c[0],h=c[1],m=Object(u.useState)(0),p=l()(m,2),g=p[0],d=p[1],f=Object(u.useState)(),v=l()(f,2),y=v[0],E=v[1],b=Object(u.useState)(!1),x=l()(b,2),w=x[0],O=x[1],T=Object(u.useState)(""),C=l()(T,2),j=C[0],W=C[1],F=Object(u.useState)(),Q=l()(F,2),B=Q[0],P=Q[1],D=Object(u.useState)(!1),G=l()(D,2),A=G[0],J=G[1],R=Object(u.useState)(""),z=l()(R,2),H=z[0],K=z[1],U=Object(u.useState)(),X=l()(U,2),Y=X[0],Z=X[1],$=Object(u.useState)(!1),_=l()($,2),ee=_[0],te=_[1],ae=Object(u.useState)(""),re=l()(ae,2),ne=re[0],ie=re[1],le=Object(u.useState)(),ue=l()(le,2),oe=ue[0],ce=ue[1],se=Object(u.useState)(!1),he=l()(se,2),me=he[0],pe=he[1],ge=Object(u.useState)(""),de=l()(ge,2),fe=de[0],ve=de[1],ye=Object(u.useState)(),Ee=l()(ye,2),be=Ee[0],xe=Ee[1],we=Object(u.useState)(!1),Oe=l()(we,2),Te=Oe[0],Ce=Oe[1],Se=Object(u.useState)(""),je=l()(Se,2),ke=je[0],Me=je[1],Le=Object(u.useState)(),Ve=l()(Le,2),Ie=Ve[0],We=Ve[1],qe=Object(u.useState)(!1),Ne=l()(qe,2),Fe=Ne[0],Qe=Ne[1],Be=Object(u.useState)(""),Pe=l()(Be,2),De=Pe[0],Ge=Pe[1],Ae=Object(u.useState)(),Je=l()(Ae,2),Re=Je[0],ze=Je[1],He=Object(u.useState)(!1),Ke=l()(He,2),Ue=Ke[0],Xe=Ke[1],Ye=Object(u.useState)(""),Ze=l()(Ye,2),$e=Ze[0],_e=Ze[1],et=Object(u.useState)(),tt=l()(et,2),at=tt[0],rt=tt[1],nt=Object(u.useState)(),it=l()(nt,2),lt=it[0],ut=it[1],ot=Object(u.useState)(!1),ct=l()(ot,2),st=ct[0],ht=ct[1],mt=Object(u.useState)(""),pt=l()(mt,2),gt=pt[0],dt=pt[1],ft=Object(u.useState)(),vt=l()(ft,2),yt=vt[0],Et=vt[1],bt=Object(u.useState)(""),xt=l()(bt,2),wt=xt[0],Ot=xt[1],Tt=Object(u.useState)(),Ct=l()(Tt,2),St=Ct[0],jt=Ct[1],kt=Object(u.useState)(!1),Mt=l()(kt,2),Lt=Mt[0],Vt=Mt[1],It=Object(u.useState)(""),Wt=l()(It,2),qt=Wt[0],Nt=Wt[1],Ft=Object(u.useState)(0),Qt=l()(Ft,2),Bt=Qt[0],Pt=Qt[1],Dt=Object(u.useState)(0),Gt=l()(Dt,2),At=Gt[0],Jt=Gt[1];Object(u.useEffect)((function(){N(void 0,void 0,void 0,n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/toy/get/get-material-type?sign=1");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,r(a);case 7:case"end":return e.stop()}}),e)})))}),[]);var Rt=function(){var e=!1;return y||(O(!0),W("该项不能为空"),e=!0),""===Y&&(te(!0),ie("该项不能为空"),e=!0),oe||(pe(!0),ve("该项不能为空"),e=!0),be||(Ce(!0),Me("该项不能为空"),e=!0),Ie||(Qe(!0),Ge("该项不能为空"),e=!0),Re||(Xe(!0),_e("该项不能为空"),e=!0),lt||(ht(!0),dt("该项不能为空"),e=!0),{hasError:e,params:{materialType:y,materialCost:Y,type:g,length:oe,width:be,height:Ie,weight:Re,freight:lt,description:wt,extraCost:yt,materialId:B,materialQuantity:St}}},zt=function(){return N(void 0,void 0,void 0,n.a.mark((function e(){var t,a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Rt(),a=t.hasError,r=t.params,console.log(r),!a){e.next=4;break}return e.abrupt("return");case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))},Ht=function(){!function(e){Jt(parseFloat((e*Y+St*Bt).toFixed(1)))}(function(e,t,a,r,n){0!==n||r||(r=1);var i=function(e,t,a){var n=Math.PI*e*e;return t&&(n=e*t),parseFloat((n*a*7.874/1e3*r).toFixed(2))}(e/2/10,t/10,a/10);return e&&a?rt(i):e&&t&&a&&rt(i),i}(oe,be,Ie,St,g))},Kt=function(e){return N(void 0,void 0,void 0,n.a.mark((function t(){var a,r;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/toy/get/get-detail?materialType="+e);case 2:return a=t.sent,t.next=5,a.json();case 5:r=t.sent,h(r);case 7:case"end":return t.stop()}}),t)})))},Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{value:"",text:""},t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,r={materialCost:function(){Z(e.value),te(""===e.value),ie(""===e.value?"该项不能为空":"")},freight:function(){ut(e.value),ht(""===e.value),dt(""===e.value?"该项不能为空":"")},extraCost:function(){Et(e.value)},description:function(){Ot(e.value)},length:function(){ce(e.value),pe(!e.value),ve(e.value?"":"该项不能为空")},width:function(){xe(e.value),Ce(!e.value),Me(e.value?"":"该项不能为空")},height:function(){We(e.value),Qe(!e.value),Ge(e.value?"":"该项不能为空")},weight:function(){ze(e.value),Xe(!e.value),_e(e.value?"":"该项不能为空")},predictWeight:function(){},materialQuantity:function(){jt(e.value),Vt(!e.value),Nt(e.value?"":"该项不能为空")},costFee:function(){},predictPrice:function(){}};switch(t){case"input":r[a]();break;case"select":e.value&&Kt(e.value),E(e.value);break;case"autoComplete":if(null===e)return P(""),Pt(0),void Z(0);Pt(e["锯费"]),Z(e["单价"]),P(e.id),J(""===e.id),K(""===e.id?"该项不能为空":"")}};return o.a.createElement(o.a.Fragment,null,o.a.createElement(M.a,{position:"static"},o.a.createElement(L.a,null,o.a.createElement(V.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){return d(0===g?1:0)}},o.a.createElement(q.a,null)),o.a.createElement(I.a,{variant:"h6"},g?"出库":"入库"))),g?o.a.createElement(k,{onSubmit:zt,formData:{materialType:y,materialTypeError:w,materialTypeMessage:j,materialId:B,materialIdError:A,materialIdMessage:H,materialCost:Y,materialCostError:ee,materialCostMessage:ne,type:g,length:oe,lengthError:me,lengthMessage:fe,width:be,widthError:Te,widthMessage:ke,height:Ie,heightError:Fe,heightMessage:De,weight:Re,weightError:Ue,weightMessage:$e,predictWeight:at,freight:lt,freightError:st,freightMessage:gt,extraCost:yt,description:wt,materialQuantity:St,materialQuantityError:Lt,materialQuantityMessage:qt,costFee:Bt,predictPrice:At},formOptions:{materialType:a,materialId:s},onChange:Ut,onSpecificationInputBlur:Ht}):o.a.createElement(S,{onSubmit:zt,formData:{materialType:y,materialTypeError:w,materialTypeMessage:j,materialId:B,materialIdError:A,materialIdMessage:H,materialCost:Y,materialCostError:ee,materialCostMessage:ne,type:g,length:oe,lengthError:me,lengthMessage:fe,width:be,widthError:Te,widthMessage:ke,height:Ie,heightError:Fe,heightMessage:De,weight:Re,weightError:Ue,weightMessage:$e,predictWeight:at,freight:lt,freightError:st,freightMessage:gt,extraCost:yt,description:wt},formOptions:{materialType:a,materialId:s},onChange:Ut,onSpecificationInputBlur:Ht}))}}}]);