(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1496:function(e,t,a){"use strict";a.r(t);var n=a(79),r=a.n(n),l=a(2),u=a.n(l),o=a(0),c=a.n(o),i=a(88),m=a.n(i),s=a(1473),h=a(1474),f=a(1497),g=a(1475),p=a(1478),E=a(1480),v=a(1481),d=a(1483),b=a(1484),y=a(1479),C=a(1491),w=a(1499),x=a(1487),O=a(1477),S=a(1488),j=a(1314),k=a.n(j),T=a(66),M=a(70),N=a(1493),q=Object(T.a)((function(e){return Object(M.a)({container:{display:"flex",flexWrap:"wrap"},root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},formControl:{margin:e.spacing(1)},title:{flexGrow:1}})})),A=function(e){var t=e.onSubmit,a=e.formData,n=e.formOptions,r=e.onChange,l=e.onSpecificationInputBlur,u=q(),o=function(e,t){r({text:e.target.value,value:e.target.value},"input",t)};return c.a.createElement("div",{className:u.container},c.a.createElement(v.a,{position:"static"},c.a.createElement(d.a,null,c.a.createElement(b.a,{edge:"start",className:u.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return r({text:"",value:""},"type")}},c.a.createElement(k.a,null)),c.a.createElement(y.a,{variant:"h6",className:u.title},a.type?"出库":"入库"))),c.a.createElement(h.a,{required:!0,fullWidth:!0,className:u.formControl},c.a.createElement(f.a,null,"计算类型"),c.a.createElement(C.a,{value:a.calcuteType,onChange:function(e,t){var a=t.props,n=a.children,l=a.value;r({text:n,value:l},"select")}},n.calcuteType.map((function(e){var t=e.text,a=e.value;return c.a.createElement(w.a,{value:a,key:t+"-"+a},t)})))),function(){var e,t=function(e){return c.a.createElement(s.a,{item:!0,xs:e,key:"length"},c.a.createElement(h.a,{required:!0,className:u.formControl,error:a.lengthError},c.a.createElement(f.a,null,"长"),c.a.createElement(g.a,{value:a.length,type:"number",onChange:function(e){return o(e,"length")},onBlur:l,endAdornment:c.a.createElement(p.a,{position:"end"},"mm")}),c.a.createElement(E.a,null,a.lengthMessage)))},n=function(e){return c.a.createElement(s.a,{item:!0,xs:e,key:"height"},c.a.createElement(h.a,{required:!0,className:u.formControl,error:a.heightError},c.a.createElement(f.a,null,"高"),c.a.createElement(g.a,{value:a.height,type:"number",onChange:function(e){return o(e,"height")},onBlur:l,endAdornment:c.a.createElement(p.a,{position:"end"},"mm")}),c.a.createElement(E.a,null,a.heightMessage)))};switch(a.calcuteType){case 0:return c.a.createElement(c.a.Fragment,null,t(6),n(6));case 1:return c.a.createElement(c.a.Fragment,null,t(4),(e=4,c.a.createElement(s.a,{item:!0,xs:e,key:"width"},c.a.createElement(h.a,{required:!0,className:u.formControl,error:a.widthError},c.a.createElement(f.a,null,"宽"),c.a.createElement(g.a,{value:a.width,type:"number",onChange:function(e){return o(e,"width")},onBlur:l,endAdornment:c.a.createElement(p.a,{position:"end"},"mm")}),c.a.createElement(E.a,null,a.widthMessage)))),n(4));default:return null}}(),c.a.createElement(s.a,{item:!0,xs:6,key:"weight"},c.a.createElement(h.a,{required:!0,className:u.formControl,error:a.weightError},c.a.createElement(f.a,null,"实际重量"),c.a.createElement(g.a,{value:a.weight,onChange:function(e){return o(e,"weight")},type:"number",endAdornment:c.a.createElement(p.a,{position:"end"},"kg")}),c.a.createElement(E.a,null,a.weightMessage))),c.a.createElement(s.a,{item:!0,xs:6},c.a.createElement(h.a,{required:!0,error:a.materialCostError,className:u.formControl},c.a.createElement(f.a,null,"单价"),c.a.createElement(g.a,{onChange:function(e){return o(e,"materialCost")},value:a.materialCost,type:"number",endAdornment:c.a.createElement(p.a,{position:"end"},"元/kg")}),c.a.createElement(E.a,null,a.materialCostMessage))),c.a.createElement(h.a,{fullWidth:!0,error:a.materialTypeError,className:u.formControl},c.a.createElement(N.a,{options:n.materialType,getOptionLabel:function(e){return e.text},value:a.materialType,onChange:function(e,t){r(t,"autoComplete")},id:"material-type","aria-controls":"material-type",renderInput:function(e){return c.a.createElement(x.a,m()({},e,{fullWidth:!0,margin:"normal",required:!0,label:"材料类型 2",error:a.materialTypeError}))}}),c.a.createElement(E.a,null,a.materialTypeMessage)),c.a.createElement(s.a,{item:!0,xs:6},c.a.createElement(h.a,{className:u.formControl,required:!0,error:a.freightError},c.a.createElement(f.a,null,"运费"),c.a.createElement(g.a,{onChange:function(e){return o(e,"freight")},value:a.freight,type:"number",endAdornment:c.a.createElement(p.a,{position:"end"},"元")}),c.a.createElement(E.a,null,a.freightMessage))),2!==a.calcuteType&&c.a.createElement(s.a,{item:!0,xs:6,key:"pre-weight"},c.a.createElement(h.a,{className:u.formControl},c.a.createElement(f.a,null,"预估重量"),c.a.createElement(g.a,{value:a.predictWeight,readOnly:!0,type:"number",endAdornment:c.a.createElement(p.a,{position:"end"},"kg")}),c.a.createElement(E.a,null,"计算公式：体积 x 密度"))),c.a.createElement(s.a,{item:!0,xs:6},c.a.createElement(h.a,{className:u.formControl},c.a.createElement(f.a,null,"其他费用"),c.a.createElement(g.a,{onChange:function(e){return o(e,"extraCost")},value:a.extraCost,type:"number",endAdornment:c.a.createElement(p.a,{position:"end"},"元")}))),c.a.createElement(h.a,{fullWidth:!0,className:u.formControl},c.a.createElement(O.a,{placeholder:"备注",rows:2===a.calcuteType?8:3,onChange:function(e){return o(e,"description")},value:a.description})),c.a.createElement(h.a,{fullWidth:!0,className:u.formControl},c.a.createElement(S.a,{variant:"contained",color:"primary",onClick:t},"提交")))},W=function(e,t,a,n){return new(a||(a=Promise))((function(r,l){function u(e){try{c(n.next(e))}catch(e){l(e)}}function o(e){try{c(n.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(u,o)}c((n=n.apply(e,t||[])).next())}))};t.default=function(){var e=Object(o.useState)([{text:"",value:0}]),t=u()(e,2),a=t[0],n=t[1],l=Object(o.useState)(0),i=u()(l,2),m=i[0],s=i[1],h=Object(o.useState)(0),f=u()(h,2),g=f[0],p=f[1],E=Object(o.useState)([{text:"",value:0}]),v=u()(E,2),d=v[0],b=v[1],y=Object(o.useState)(),C=u()(y,2),w=C[0],x=C[1],O=Object(o.useState)(!1),S=u()(O,2),j=S[0],k=S[1],T=Object(o.useState)(""),M=u()(T,2),N=M[0],q=M[1],B=Object(o.useState)(""),F=u()(B,2),I=F[0],D=F[1],G=Object(o.useState)(!1),J=u()(G,2),P=J[0],L=J[1],R=Object(o.useState)(""),z=u()(R,2),H=z[0],K=z[1],Q=Object(o.useState)(),U=u()(Q,2),V=U[0],X=U[1],Y=Object(o.useState)(!1),Z=u()(Y,2),$=Z[0],_=Z[1],ee=Object(o.useState)(""),te=u()(ee,2),ae=te[0],ne=te[1],re=Object(o.useState)(),le=u()(re,2),ue=le[0],oe=le[1],ce=Object(o.useState)(!1),ie=u()(ce,2),me=ie[0],se=ie[1],he=Object(o.useState)(""),fe=u()(he,2),ge=fe[0],pe=fe[1],Ee=Object(o.useState)(),ve=u()(Ee,2),de=ve[0],be=ve[1],ye=Object(o.useState)(!1),Ce=u()(ye,2),we=Ce[0],xe=Ce[1],Oe=Object(o.useState)(""),Se=u()(Oe,2),je=Se[0],ke=Se[1],Te=Object(o.useState)(),Me=u()(Te,2),Ne=Me[0],qe=Me[1],Ae=Object(o.useState)(!1),We=u()(Ae,2),Be=We[0],Fe=We[1],Ie=Object(o.useState)(""),De=u()(Ie,2),Ge=De[0],Je=De[1],Pe=Object(o.useState)(0),Le=u()(Pe,2),Re=Le[0],ze=Le[1],He=Object(o.useState)(""),Ke=u()(He,2),Qe=Ke[0],Ue=Ke[1],Ve=Object(o.useState)(!1),Xe=u()(Ve,2),Ye=Xe[0],Ze=Xe[1],$e=Object(o.useState)(""),_e=u()($e,2),et=_e[0],tt=_e[1],at=Object(o.useState)(""),nt=u()(at,2),rt=nt[0],lt=nt[1],ut=Object(o.useState)(""),ot=u()(ut,2),ct=ot[0],it=ot[1];Object(o.useEffect)((function(){n([{text:"45#",value:0},{text:"40#",value:1},{text:"螺纹钢",value:2}]),b([{text:"圆钢",value:0},{text:"方钢",value:1},{text:"其他",value:2}]),s(0)}),[]);var mt=function(){var e=!1;return void 0===w&&(k(!0),q("该项不能为空"),e=!0),""===I&&(L(!0),K("该项不能为空"),e=!0),V||(_(!0),ne("该项不能为空"),e=!0),ue||(se(!0),pe("该项不能为空"),e=!0),de||(xe(!0),ke("该项不能为空"),e=!0),Ne||(Fe(!0),Je("该项不能为空"),e=!0),Qe||(Ze(!0),tt("该项不能为空"),e=!0),{hasError:e,params:{materialType:w,materialCost:I,type:m,length:V,width:ue,height:de,weight:Ne,freight:Qe,description:ct,extraCost:rt}}};return c.a.createElement(A,{onSubmit:function(){return W(void 0,void 0,void 0,r.a.mark((function e(){var t,a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=mt(),a=t.hasError,n=t.params,console.log(n),!a){e.next=4;break}return e.abrupt("return");case 4:return e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))},formData:{materialType:w,materialTypeError:j,materialTypeMessage:N,materialCost:I,materialCostError:P,materialCostMessage:H,type:m,length:V,lengthError:$,lengthMessage:ae,width:ue,widthError:me,widthMessage:ge,height:de,heightError:we,heightMessage:je,weight:Ne,weightError:Be,weightMessage:Ge,predictWeight:Re,freight:Qe,freightError:Ye,freightMessage:et,extraCost:rt,description:ct,calcuteType:g},formOptions:{materialType:a,calcuteType:d},onChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{value:"",text:""},t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,n={materialCost:function(){D(e.value),L(""===e.value),K(""===e.value?"该项不能为空":"")},freight:function(){Ue(e.value),Ze(""===e.value),tt(""===e.value?"该项不能为空":"")},extraCost:function(){lt(e.value)},description:function(){it(e.value)},length:function(){X(e.value),_(!e.value),ne(e.value?"":"该项不能为空")},width:function(){oe(e.value),se(!e.value),pe(e.value?"":"该项不能为空")},height:function(){be(e.value),xe(!e.value),ke(e.value?"":"该项不能为空")},weight:function(){qe(e.value),Fe(!e.value),Je(e.value?"":"该项不能为空")}};switch(t){case"input":n[a]();break;case"select":p(e.value);break;case"type":s(0===m?1:0);break;case"autoComplete":x(e.value),k(""===e.value),q(""===e.value?"该项不能为空":"")}},onSpecificationInputBlur:function(){!function(e,t,a,n){var r=e/2/10,l=t/10,u=a/10,o=function(e,t,a){var n=Math.PI*e*e;return t&&(n=e*t),parseFloat((n*a*7.874/1e3).toFixed(2))};0===n&&e&&a?ze(o(r,l,u)):1===n&&e&&t&&a&&ze(o(r,l,u))}(V,ue,de,m)}})}}}]);