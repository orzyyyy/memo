(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{203:function(e,n,t){var r=t(5),a=t(204);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(r(a,o),a.locals?a.locals:{});e.exports=i},204:function(e,n,t){(n=t(6)(!1)).push([e.i,".uploadView .upload-view-list {\n  display: grid;\n  grid-template-columns: repeat(3, 33%);\n}\n\n.uploadView .upload-view-list .upload-item {\n  overflow: hidden;\n  word-wrap: break-word;\n}\n\n.uploadView .upload-view-list .upload-item img {\n  width: 100%;\n  height: 100%;\n}\n",""]),e.exports=n},205:function(e,n,t){var r=t(5),a=t(206);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(r(a,o),a.locals?a.locals:{});e.exports=i},206:function(e,n,t){(n=t(6)(!1)).push([e.i,".uploader .upload-item .upload-button {\n  width: 100%;\n  height: 100%;\n  display: table-cell;\n  text-align: center;\n  vertical-align: middle;\n  padding: 8px;\n  font-size: 14px;\n  font-variant: tabular-nums;\n  line-height: 1.5;\n  color: rgba(0, 0, 0, 0.65);\n  box-sizing: border-box;\n  list-style: none;\n  outline: 0;\n}\n\n.uploader .upload-item i {\n  font-size: 5em;\n  color: #999;\n}\n\n.uploader .upload-item .plus-icon {\n  display: inline-block;\n  font-style: normal;\n  vertical-align: -0.125em;\n  text-align: center;\n  text-transform: none;\n  line-height: 0.4;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n",""]),e.exports=n},207:function(e,n,t){var r=t(5),a=t(208);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(r(a,o),a.locals?a.locals:{});e.exports=i},208:function(e,n,t){(n=t(6)(!1)).push([e.i,".upload .upload-item {\n  border: 1px dashed #d9d9d9;\n  width: 100%;\n  height: 100%;\n  border-radius: 4px;\n  background-color: #fafafa;\n  text-align: center;\n  cursor: pointer;\n  transition: border-color 0.3s ease;\n  vertical-align: top;\n  display: table;\n  padding: 5px;\n}\n\n.upload .upload-item-error {\n  border: 1px dashed red;\n}\n",""]),e.exports=n},255:function(e,n,t){"use strict";var r=t(0),a=t.n(r),o=t(38),i=t.n(o),l=(t(203),["image","webp","png","svg","gif","jpg","jpeg","bmp"]),c=function(e){if(!e)return!1;if(e.type&&l.includes(e.type))return!0;var n=e.url,t=function(e){if(!e)return"";var n=e.split("/"),t=n[n.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(t)||[""])[0]}(n);return!(!/^data:image\//.test(n)&&!/(webp|svg|png|gif|jpg|jpeg|bmp)$/i.test(t))||!/^data:/.test(n)&&!t},u=t(40),s=t.n(u),p=(t(205),function(e,n,t,r){return new(t||(t=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,l)}c((r=r.apply(e,n||[])).next())}))}),f=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},d=function(e){var n=e.renderPlusItem,t=e.multiple,o=e.onChange,l=f(e,["renderPlusItem","multiple","onChange"]),u=Object(r.useRef)(null),d=a.a.createElement("i",{className:"plus-icon"},"+");return a.a.createElement("div",{className:"uploader"},a.a.createElement("div",{onClick:function(){var e=u.current;e&&(e.click(),e.value="")},className:"upload-item"},a.a.createElement("span",{className:"upload-button"},a.a.createElement("input",i()({type:"file",ref:u,style:{display:"none"},onChange:function(e,n){return p(void 0,void 0,void 0,s.a.mark((function t(){var r,a,i,l,u,p,f,d;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.target.files,a=[],i=!0,l=!1,u=void 0,t.prev=5,p=s.a.mark((function e(){var n,t,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d.value,(t=new FileReader).readAsDataURL(n),e.next=5,new Promise((function(e){t.onloadend=function(){var r={url:t.result};n.url=null,c(r)&&(n.url=t.result),n.id=n.size.toString()+(new Date).getTime(),e(n)}}));case 5:r=e.sent,a.push(r);case 7:case"end":return e.stop()}}),e)})),f=r[Symbol.iterator]();case 8:if(i=(d=f.next()).done){t.next=13;break}return t.delegateYield(p(),"t0",10);case 10:i=!0,t.next=8;break;case 13:t.next=19;break;case 15:t.prev=15,t.t1=t.catch(5),l=!0,u=t.t1;case 19:t.prev=19,t.prev=20,i||null==f.return||f.return();case 22:if(t.prev=22,!l){t.next=25;break}throw u;case 25:return t.finish(22);case 26:return t.finish(19);case 27:o&&o(a),n&&n(a);case 29:case"end":return t.stop()}}),t,null,[[5,15,19,27],[20,,22,26]])})))},multiple:t},l)),n?n():d)))},v=t(54),m=t.n(v),g=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},b=function(e){var n,t=e.fileList,o=void 0===t?[]:t,l=e.onChange,u=e.onClick,s=e.onPress,p=e.uploaderVisible,f=void 0===p||p,v=g(e,["fileList","onChange","onClick","onPress","uploaderVisible"]);Object(r.useEffect)((function(){return function(){b()}}));var b=function(){clearTimeout(n)};return a.a.createElement("div",{className:"uploadView"},a.a.createElement("div",{className:"upload-view-list"},o.map((function(e){var t=e.url,r=e.id,o=e.name,i=e.error;return c(t)?a.a.createElement("div",{className:m()({"upload-item":!0,"upload-item-error":i}),key:"upload-item-".concat(r),onTouchStart:function(){return t=e,void(n=setTimeout((function(){s&&s(t)}),800));var t},onTouchMove:b,onTouchEnd:b,onClick:function(){return u&&u(e)}},a.a.createElement("img",{src:t})):a.a.createElement("div",{className:"upload-item",key:"upload-item-".concat(r)},o)})),f&&a.a.createElement(d,i()({onChange:l},v))))},h=(t(207),function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t}),y=function(e){var n=e.style,t=e.className,r=h(e,["style","className"]);return a.a.createElement("div",{className:m()("upload",t),style:n},a.a.createElement(b,r))};n.a=y},38:function(e,n){function t(){return e.exports=t=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},t.apply(this,arguments)}e.exports=t},41:function(e,n,t){"use strict";t.d(n,"a",(function(){return r}));var r={height:32,width:80,borderRadius:"0.25em",fontSize:18}},46:function(e,n,t){"use strict";var r=t(38),a=t.n(r),o=t(0),i=t.n(o),l=t(41),c=(t(51),function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t}),u=function(e){var n=e.style,t=e.children,r=c(e,["style","children"]);return i.a.createElement("button",a()({style:a()(l.a,n)},r),t)};n.a=u},47:function(e,n,t){var r=t(48),a=t(49),o=t(50);e.exports=function(e){return r(e)||a(e)||o()}},475:function(e,n,t){"use strict";t.r(n);var r=t(47),a=t.n(r),o=t(40),i=t.n(o),l=t(1),c=t.n(l),u=t(0),s=t.n(u),p=(t(476),t(255)),f=t(46),d=t(57),v=function(e,n,t,r){return new(t||(t=Promise))((function(a,o){function i(e){try{c(r.next(e))}catch(e){o(e)}}function l(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,l)}c((r=r.apply(e,n||[])).next())}))};n.default=function(){var e=Object(u.useState)([]),n=c()(e,2),t=n[0],r=n[1],o=Object(u.useState)(2),l=c()(o,2),m=l[0],g=l[1],b=Object(u.useState)(7),h=c()(b,2),y=h[0],x=h[1],w=function(e,n){for(var t=[],r=0;r<e;r++){for(var a={},o=0;o<n;o++)a[o]=Object(u.createRef)();t.push(a)}return t}(m,y),O=Object(u.useMemo)((function(){return w}),[m,y]),k=function(e,n){var t=e.target.value;switch(n){case"row":g(parseInt(t));break;case"col":x(parseInt(t))}};return s.a.createElement("div",{className:"slicing-image"},s.a.createElement("span",null,"行："),s.a.createElement(d.a,{type:"number",value:m,onChange:function(e){return k(e,"row")}}),s.a.createElement("span",null,"列："),s.a.createElement(d.a,{type:"number",value:y,onChange:function(e){return k(e,"col")}}),s.a.createElement(p.a,{fileList:t,onChange:function(e){var n,o,l;r([].concat(a()(t),a()(e))),n=e[0].url,o=y,l=m,v(void 0,void 0,void 0,i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Image).src=n,e.next=4,new Promise((function(e){t.onload=function(){for(var n,r,a=t.naturalWidth,i=t.naturalHeight,c=a/o,u=i/l,s=0;s<w.length;s++)for(var p=Object.values(w[s]),f=0;f<p.length;f++)null===(r=null===(n=p[f].current)||void 0===n?void 0:n.getContext("2d"))||void 0===r||r.drawImage(t,c*f,s*u,c,u,0,0,35,35);e()}}));case 4:case"end":return e.stop()}}),e)})))},uploaderVisible:0===t.length,onClick:function(e){r(t.filter((function(n){return n.id!==e.id})))},accept:"image/*"}),s.a.createElement("div",null,function(){for(var e=[],n=0;n<m;n++){e.push(s.a.createElement("div",{style:{marginTop:0===n?0:-6},key:"".concat(n,"-placeholder")}));for(var t=0;t<y;t++)e.push(s.a.createElement("canvas",{ref:O[n][t],width:"35",height:"35",key:"".concat(n,"-").concat(t)}))}return e}()),s.a.createElement(f.a,{onClick:function(){return v(void 0,void 0,void 0,i.a.mark((function e(){var n,t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=function(e,n,t){var r=e.current.toDataURL("image/png"),a=document.createElement("a");a.download="".concat(t+1,"-").concat(n+1,".png"),a.href=r,a.click()},t=i.a.mark((function e(t){var r,a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=O[t],a=i.a.mark((function e(a){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object.values(r)[a],e.next=3,new Promise((function(e){n(o,a,t),setTimeout((function(){e()}),100)}));case 3:case"end":return e.stop()}}),e)})),o=0;case 3:if(!(o<Object.values(r).length)){e.next=8;break}return e.delegateYield(a(o),"t0",5);case 5:o++,e.next=3;break;case 8:case"end":return e.stop()}}),e)})),r=0;case 3:if(!(r<O.length)){e.next=8;break}return e.delegateYield(t(r),"t0",5);case 5:r++,e.next=3;break;case 8:case"end":return e.stop()}}),e)})))}},"下载"))}},476:function(e,n,t){var r=t(5),a=t(477);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(r(a,o),a.locals?a.locals:{});e.exports=i},477:function(e,n,t){(n=t(6)(!1)).push([e.i,".slicing-image canvas {\n  margin-top: 3px;\n  margin-left: 3px;\n  border: 1px solid #ccc;\n}\n",""]),e.exports=n},48:function(e,n){e.exports=function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}},49:function(e,n){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},50:function(e,n){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},51:function(e,n,t){var r=t(5),a=t(52);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(r(a,o),a.locals?a.locals:{});e.exports=i},52:function(e,n,t){(n=t(6)(!1)).push([e.i,"button {\n  line-height: 20px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  color: #24292e;\n  background-color: #eff3f6;\n  background-image: linear-gradient(-180deg, #fafbfc, #eff3f6 90%);\n  position: relative;\n  display: inline-block;\n  padding: 6px 12px;\n  font-size: 14px;\n  font-weight: 600;\n  line-height: 20px;\n  white-space: nowrap;\n  vertical-align: middle;\n  cursor: pointer;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  background-repeat: repeat-x;\n  background-position: -1px -1px;\n  background-size: 110% 110%;\n  border: 1px solid rgba(27, 31, 35, 0.2);\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n}\n\nbutton:hover {\n  background: #f5f5f5;\n}\n",""]),e.exports=n},54:function(e,n,t){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var t={}.hasOwnProperty;function a(){for(var e=[],n=0;n<arguments.length;n++){var r=arguments[n];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var i=a.apply(null,r);i&&e.push(i)}else if("object"===o)for(var l in r)t.call(r,l)&&r[l]&&e.push(l)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(n,[]))||(e.exports=r)}()},57:function(e,n,t){"use strict";var r=t(38),a=t.n(r),o=t(0),i=t.n(o),l=t(41),c=(t(58),function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t}),u=function(e){var n=e.style,t=e.children,r=c(e,["style","children"]);return i.a.createElement("input",a()({style:a()({},l.a,n)},r),t)};n.a=u},58:function(e,n,t){var r=t(5),a=t(59);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1},i=(r(a,o),a.locals?a.locals:{});e.exports=i},59:function(e,n,t){(n=t(6)(!1)).push([e.i,"input {\n  border: 1px solid #e8e8e8;\n  transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\n}\n\ninput:hover {\n  border: 1px solid rgb(16, 142, 233);\n  transition: all 0.3s cubic-bezier(0.645, 0.045, 0.355, 1);\n}\n",""]),e.exports=n}}]);