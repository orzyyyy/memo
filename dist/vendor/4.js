(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{150:function(e,n,t){var r=t(151);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};t(26)(r,o);r.locals&&(e.exports=r.locals)},151:function(e,n,t){(e.exports=t(25)(!1)).push([e.i,".MainPage img {\r\n  width: 100%;\r\n}\r\n\r\n.MainPage .card {\r\n  width: 15%;\r\n  text-align: center;\r\n  cursor: pointer;\r\n}\r\n\r\n.MainPage .add {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 288px;\r\n}\r\n\r\n.MainPage {\r\n  height: 100vh;\r\n}",""])},324:function(e,n,t){"use strict";t.r(n),t.d(n,"default",function(){return v});t(127);var r=t(259),o=t.n(r),a=(t(135),t(241)),i=t.n(a),c=(t(141),t(152)),u=t.n(c),s=(t(147),t(38)),l=t.n(s),f=t(0),d=t.n(f),p=(t(150),t(81));function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,n){return(y=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var v=function(e){function n(e){var t,r,a;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),r=this,a=m(n).call(this,e),t=!a||"object"!==h(a)&&"function"!=typeof a?g(r):a,b(g(g(t)),"componentDidMount",function(){t.getMapping()}),b(g(g(t)),"getMapping",function(){Object(p.a)({url:"dist/mapping.json",success:function(e){return t.setState({data:e})}})}),b(g(g(t)),"handleClick",function(e){var n=e.id;location.hash="/".concat(n)}),b(g(g(t)),"handleDelete",function(e){var n=e.id;Object(p.a)({url:"del",params:{method:"DELETE",body:JSON.stringify({id:n}),mode:"cors",headers:{"Content-Type":"application/json"}},success:function(e){e?(DataCollector.clear(),t.getMapping()):console.error("error with delete")}})}),b(g(g(t)),"handleAdd",function(){Object(p.a)({url:"save/new",type:"text",params:{method:"POST",body:"",mode:"cors",headers:{"Content-Type":"application/json"}},success:function(e){e&&(location.hash="/new?"+e)}})}),b(g(g(t)),"generateMainPage",function(){var e=t.state.data;return 0==e.length?d.a.createElement(u.a.Grid,{className:"card add",onClick:t.handleAdd},d.a.createElement(l.a,{type:"plus"})):d.a.createElement(d.a.Fragment,null,e.map(function(e){var n=e.thumbnailUrl,r=e.id,a=(e.hoverText,d.a.createElement(i.a,null,d.a.createElement(i.a.Item,{key:"add-".concat(r),onClick:t.handleAdd},"新增"),d.a.createElement(i.a.Item,{key:"delete-".concat(r),onClick:function(){return t.handleDelete(e)}},"删除")));return d.a.createElement(d.a.Fragment,{key:"fragment-".concat(r)},d.a.createElement(u.a.Grid,{className:"card"},d.a.createElement(o.a,{overlay:a,trigger:["contextMenu"]},d.a.createElement("img",{src:n,onClick:function(){return t.handleClick(e)}}))))}))}),b(g(g(t)),"render",function(){return d.a.createElement("div",{className:"MainPage"},t.generateMainPage())}),t.state={data:[]},t}return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&y(e,n)}(n,f["Component"]),n}()},81:function(e,n,t){"use strict";var r={};t.d(n,"a",function(){return i});var o=["json","html","text"],a=["GET","POST","PUT","DELETE"],i=function(e){var n,t,o=e.url,a=e.key,i=e.method,l=void 0===i?"GET":i,d=e.data,p=e.type,h=void 0===p?"json":p,m=e.success,y=e.params,g=e.fix,b=void 0===g?"&":g,v=e.isProxy,E=void 0!==v&&v,w=e.error,j={};u(h),c(l),n=f(a,r,null,E)||o,t=s(n,d,b),"GET"!=l&&(j={body:JSON.stringify(d),method:l,headers:{"Content-Type":"application/json"}}),j=Object.assign({},j,y),fetch(n+t,j).then(function(e){return e[h]()}).then(function(e){return m&&m(e)}).catch(function(e){return w&&w(e)})},c=function(e){if(e){if(e=e.toUpperCase(),a.includes(e))return e;console.error("fetch method error.")}else console.error("fetch method is undefined.")},u=function(e){if(e){if(e=e.toLowerCase(),o.includes(e))return e;console.error("fetch type error.")}else console.error("fetch type is undefined.")},s=function(e,n,t){if(!e||!n)return"";var r=e.includes("?")?t:"?",o=l(n,t);return o?r+o:o},l=function(e,n){if(!e||0==Object.keys(e).lenght||e instanceof Array)return"";if("string"==typeof e)return e;var t="";for(var r in e)t+="".concat(r,"=").concat(e[r]).concat(n);return t=t.substr(0,t.length-("&"==n?1:3))},f=function(e,n,t,r){var o;for(var a in n)if(e==a){o=n[a];break}if(o)return t&&r&&(o=t+o),o}}}]);